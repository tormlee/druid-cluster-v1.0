"use strict";Object.defineProperty(exports,"__esModule",{value:true});var moment=require("moment-timezone");var utils_1=require("../utils/utils");var EXAMPLE_DATE_ISO="2015-10-29T23:00:00.000Z";var EXAMPLE_DATE_VALUE=Date.parse(EXAMPLE_DATE_ISO);var MIN_MILLIS=6307e7;var MAX_MILLIS=EXAMPLE_DATE_VALUE*10;var MIN_POSIX=MIN_MILLIS/1e3;var MAX_POSIX=MAX_MILLIS/1e3;exports.ISO_MATCHER=new RegExp(/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)$/);exports.JODA_TO_MOMENT_LOOKUP={"d/M/yyyy":"D/M/YYYY","d-M-yyyy hh:mm:ss a":"DD-M-YYYY hh:mm:ss A","MM/dd/YYYY":"MM/DD/YYYY","M/d/YY":"M/D/YY","MM/dd/YYYY hh:mm:ss a":"MM/DD/YYYY hh:mm:ss A","YYYY-MM-dd kk:mm:ss":"YYYY-MM-DD HH:mm:ss"};function listToTimeDropdown(e){var r=new Date(EXAMPLE_DATE_VALUE);var t=function(e){if(exports.JODA_TO_MOMENT_LOOKUP[e])return moment(r).format(exports.JODA_TO_MOMENT_LOOKUP[e]);switch(e){case"iso":return EXAMPLE_DATE_ISO;case"millis":return Date.parse(EXAMPLE_DATE_ISO);case"posix":return Math.floor(EXAMPLE_DATE_VALUE/1e3);default:return r}};var M=function(e){return e+" ("+t(e)+")"};return utils_1.listToDropdown(e,M)}exports.listToTimeDropdown=listToTimeDropdown;function timeFormatMatches(e,r){if(exports.JODA_TO_MOMENT_LOOKUP[e]){e=exports.JODA_TO_MOMENT_LOOKUP[e]}if(e==="iso"){return new RegExp(exports.ISO_MATCHER).test(r)}if(e==="millis"){var t=Math.abs(r);return MIN_MILLIS<t&&t<MAX_MILLIS}if(e==="posix"){var t=Math.abs(r);return MIN_POSIX<t&&t<MAX_POSIX}return moment(r,e,true).isValid()}exports.timeFormatMatches=timeFormatMatches;