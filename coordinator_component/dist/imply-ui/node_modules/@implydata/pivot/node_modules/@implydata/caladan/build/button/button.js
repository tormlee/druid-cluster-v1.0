"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var classNames=require("classnames");var React=require("react");var svg_icon_1=require("../svg-icon/svg-icon");var Button=function(e){tslib_1.__extends(t,e);function t(){var t=e.call(this)||this;t.mounted=false;t.state={};return t}t.prototype.componentDidMount=function(){this.mounted=true};t.prototype.componentWillUnmount=function(){this.mounted=false};t.prototype.isPromise=function(e){return e&&typeof e.then==="function"};t.prototype.onClick=function(e){var t=this;var n=this.props.onClick;var o=n(e);if(!this.isPromise(o))return;var s=function(){if(!t.mounted)return;t.setState({pending:false})};o.then(s).catch(s);this.setState({pending:true})};t.prototype.render=function(){var e=this;var t=this.props,n=t.badge,o=t.title,s=t.type,r=t.className,i=t.svg,a=t.active,u=t.disabled,c=t.onMouseEnter,l=t.onMouseLeave,p=t.tabIndex,v=t.style,d=t.svgStyle;var f=this.state.pending;var m=!f&&!u;var h={"icon-and-text":!!o&&!!i,"icon-only":!o&&!!i,active:a,"with-badge":n!==undefined,"no-focus":p===-1,pending:f};return React.createElement("button",{type:"button",className:classNames("button",s,r,h),onClick:m?function(t){return e.onClick(t)}:null,disabled:!m,onMouseEnter:c,onMouseLeave:l,tabIndex:p!=null&&m?p:0,style:v},i?React.createElement(svg_icon_1.SvgIcon,{svg:i,style:d}):null,o,n?React.createElement("span",{className:"badge"},n):null,this.props.children)};return t}(React.Component);exports.Button=Button;