"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var chai_1 = require("chai");
var keyed_array_1 = require("./keyed-array");
describe("KeyedArray", function () {
    var someArray = [
        { accountId: 'UK', score: 1 },
        { accountId: 'USA', score: 2 },
        { accountId: 'Italy', score: 3 }
    ];
    var keyedHelper = keyed_array_1.KeyedArray.withKey("accountId");
    describe("get", function () {
        it('something that exists', function () {
            chai_1.expect(keyedHelper.get(someArray, 'USA')).to.equal(someArray[1]);
        });
        it('something that does not exist', function () {
            chai_1.expect(keyedHelper.get(someArray, 'Russia')).to.equal(null);
        });
    });
    describe("overrideByKey", function () {
        it('overrides (in order)', function () {
            chai_1.expect(keyedHelper.overrideByKey(someArray, { accountId: 'USA', score: 5 })).to.deep.equal([
                { accountId: 'UK', score: 1 },
                { accountId: 'USA', score: 5 },
                { accountId: 'Italy', score: 3 }
            ]);
        });
        it('overrides appends', function () {
            chai_1.expect(keyedHelper.overrideByKey(someArray, { accountId: 'Russia', score: 5 })).to.deep.equal([
                { accountId: 'UK', score: 1 },
                { accountId: 'USA', score: 2 },
                { accountId: 'Italy', score: 3 },
                { accountId: 'Russia', score: 5 }
            ]);
        });
    });
    describe("deleteByName", function () {
        it('something that exists', function () {
            chai_1.expect(keyedHelper.deleteByKey(someArray, 'USA')).to.deep.equal([
                { accountId: 'UK', score: 1 },
                { accountId: 'Italy', score: 3 }
            ]);
        });
        it('something that does not exist', function () {
            chai_1.expect(keyedHelper.deleteByKey(someArray, 'Russia')).to.deep.equal(someArray);
        });
    });
});
