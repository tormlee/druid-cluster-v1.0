"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var caladan_1=require("@implydata/caladan");var React=require("react");var immutable_utils_1=require("../immutable-utils/immutable-utils");var ImmutableCheckbox=function(_super){tslib_1.__extends(ImmutableCheckbox,_super);function ImmutableCheckbox(){return _super.call(this)||this}ImmutableCheckbox.simpleGenerator=function(instance,changeFn,labels,errors){return function(name){var myLabels=immutable_utils_1.getLabel(name,labels);return React.createElement(ImmutableCheckbox,{instance:instance,path:name,onChange:changeFn,label:myLabels.label,helpTitle:myLabels.label,helpText:myLabels.description,errorText:errors[name]})}};ImmutableCheckbox.prototype.onClick=function(){var _a=this.props,instance=_a.instance,path=_a.path,onChange=_a.onChange;var oldValue=immutable_utils_1.getProperty(instance,path);onChange(immutable_utils_1.setProperty(instance,path,!oldValue),true,path,undefined)};ImmutableCheckbox.prototype.onFocus=function(){var _a=this.props,path=_a.path,helpTitle=_a.helpTitle,helpText=_a.helpText,errorText=_a.errorText;caladan_1.InfoManager.show({sourceId:path,title:helpTitle,lines:[helpText,errorText].filter(Boolean),type:errorText?"error":"info"})};ImmutableCheckbox.prototype.onBlur=function(){caladan_1.InfoManager.hide(this.props.path)};ImmutableCheckbox.prototype.render=function(){var _a=this.props,label=_a.label,instance=_a.instance,path=_a.path,helpText=_a.helpText,showHelpOnFocus=_a.showHelpOnFocus;var isSelected=immutable_utils_1.getProperty(instance,path);return React.createElement(caladan_1.Checkbox,{onClick:this.onClick.bind(this),label:label,selected:isSelected,onFocus:showHelpOnFocus?this.onFocus.bind(this):null,onBlur:showHelpOnFocus?this.onBlur.bind(this):null})};return ImmutableCheckbox}(React.Component);exports.ImmutableCheckbox=ImmutableCheckbox;