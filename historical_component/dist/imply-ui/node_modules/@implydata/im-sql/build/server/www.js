"use strict";Object.defineProperty(exports,"__esModule",{value:true});var debugModule=require("debug");var http=require("http");var config_1=require("./config");var wrapperServer=require("./wrapper-app");var debug=debugModule("im-sql:www");var httpServer=http.createServer(wrapperServer.getApp());httpServer.on("error",function(e){if(e.syscall!=="listen"){throw e}switch(e.code){case"EACCES":console.error("Port "+config_1.SERVER_SETTINGS.getPort()+" requires elevated privileges");process.exit(1);break;case"EADDRINUSE":console.error("Port "+config_1.SERVER_SETTINGS.getPort()+" is already in use");process.exit(1);break;default:throw e}});httpServer.on("listening",function(){var e=httpServer.address();console.log("Sql UI (standalone mode) is listening on address "+e.address+" port "+e.port);debug("Sql UI (standalone mode) is listening on address "+e.address+" port "+e.port)});wrapperServer.getApp().set("port",config_1.SERVER_SETTINGS.getPort());httpServer.listen(config_1.SERVER_SETTINGS.getPort(),config_1.SERVER_SETTINGS.getServerHost());