"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var React=require("react");var ReactDOM=require("react-dom");var Tooltip=function(t){tslib_1.__extends(e,t);function e(){var e=t.call(this)||this;e.state={};e.onHover=e.onHover.bind(e);e.onLeave=e.onLeave.bind(e);return e}e.prototype.componentDidMount=function(){this._target.addEventListener("mouseover",this.onHover)};e.prototype.onHover=function(t){var e=this;var o=this.props.delay;if(!isNaN(this._timeout))return;this._timeout=window.setTimeout(function(){return e.showTooltip()},o);this._target.addEventListener("mouseleave",this.onLeave);this._target.removeEventListener("mouseover",this.onHover)};e.prototype.onLeave=function(t){if(!isNaN(this._timeout)){window.clearTimeout(this._timeout);this._timeout=NaN}else{this.hideTooltip()}this._target.addEventListener("mouseover",this.onHover);this._target.removeEventListener("mouseleave",this.onLeave)};e.prototype.showTooltip=function(){var t=this;this._timeout=NaN;var e=document.createElement("div");e.className="tooltip-container";this._tooltip=document.body.appendChild(e);this._component=ReactDOM.render(this.renderTooltip(),this._tooltip);window.setTimeout(function(){t._component=ReactDOM.render(t.renderTooltip(false),t._tooltip)},0)};e.prototype.hideTooltip=function(){if(!this._tooltip)return;ReactDOM.unmountComponentAtNode(this._tooltip);document.body.removeChild(this._tooltip);this._tooltip=undefined};e.prototype.renderTooltip=function(t){if(t===void 0){t=true}var e=this.props,o=e.label,i=e.animated;var n=this._target.getBoundingClientRect(),r=n.left,s=n.top,a=n.width,l=n.height;var p={left:r+a*.5,top:i&&t?s:s+l,opacity:t?0:1};return React.createElement("div",{style:p,className:"tooltip"},React.createElement("div",{className:"label"},o))};e.prototype.componentWillUnmount=function(){this._target.removeEventListener("mouseover",this.onHover);this._target.removeEventListener("mouseleave",this.onLeave);this.hideTooltip()};e.prototype.render=function(){var t=this;var e=this.props.children;return React.cloneElement(React.Children.only(e),{ref:function(e){return t._target=e}})};e.defaultProps={delay:0};return e}(React.Component);exports.Tooltip=Tooltip;