"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var immutable_class_1=require("immutable-class");var MeasureFilter=function(e){tslib_1.__extends(t,e);function t(t){if(t===void 0){t={}}return e.call(this,t)||this}t.fromJS=function(e){return new t(immutable_class_1.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.fromExpression=function(e){if(!e)return null;var a=false;if(e.op==="not"){e=e.operand;a=true}var r;if(["is","isnt"].includes(e.op)){r=a?"!=":"=="}return new t({column:e.operand.name,operator:r,value:e.expression.value})};t.prototype.isSimpleFilter=function(){return!!this.column&&!!this.operator&&typeof this.value==="string"};t.prototype.toString=function(){return"$"+this.column+" "+this.operator+" '"+(this.value||"")+"'"};t.OPERATORS=[{label:"is",value:"=="},{label:"is not",value:"!="}];t.PROPERTIES=[{name:"column",defaultValue:"count"},{name:"operator",defaultValue:t.OPERATORS[0].value,possibleValues:t.OPERATORS.map(function(e){return e.value})},{name:"value",defaultValue:""}];return t}(immutable_class_1.BaseImmutable);exports.MeasureFilter=MeasureFilter;immutable_class_1.BaseImmutable.finalize(MeasureFilter);