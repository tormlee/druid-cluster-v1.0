"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var classNames=require("classnames");var React=require("react");var info_manager_1=require("../info-manager/info-manager");var InfoSpot=function(e){tslib_1.__extends(t,e);function t(){var t=e.call(this)||this;t.state={};info_manager_1.InfoManager.subscribe(t.onManagerEvent.bind(t));return t}t.prototype.componentDidMount=function(){this._mounted=true};t.prototype.componentWillUnmount=function(){this._mounted=false};t.prototype.onManagerEvent=function(e){if(!this._mounted)return;var t=this.props.sourceIds;if(e&&t.indexOf(e.sourceId)>-1){this.setState({info:e})}else{this.setState({info:undefined})}};t.prototype.render=function(){var e=this.props.bubbly;var t=this.state.info;if(!t)return null;var n=t.lines.map(function(e){return"<p>"+e+"</p>"}).join("");var o=t.title;return React.createElement("div",{className:classNames("info-spot",{"in-modal":e}),onMouseOver:info_manager_1.InfoManager.stick,onMouseOut:info_manager_1.InfoManager.unstick},o?React.createElement("div",{className:"info-spot-title"},o):null,React.createElement("div",{className:"info-spot-content",dangerouslySetInnerHTML:{__html:n}}))};return t}(React.Component);exports.InfoSpot=InfoSpot;