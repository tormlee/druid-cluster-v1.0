"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var React=require("react");var HeaderBar=function(e){tslib_1.__extends(t,e);function t(){var t=e.call(this)||this;t.state={};return t}t.prototype.closeMenu=function(){this.setState({openElement:undefined,menuTarget:undefined})};t.prototype.componentWillReceiveProps=function(e){this.closeMenu()};t.prototype.openMenu=function(e,t){var r=this.state.openElement;if(r&&r.id===e.id){this.closeMenu();return}if(e.renderMenu){this.setState({openElement:e,menuTarget:t})}};t.prototype.renderMenu=function(){var e=this.state,t=e.openElement,r=e.menuTarget;if(!t||!t.renderMenu)return null;return React.cloneElement(t.renderMenu(r),{onClose:this.closeMenu.bind(this)})};t.prototype.isHeaderBarItem=function(e){return e.props===undefined};t.prototype.renderChildren=function(e){var t=this;if(!e||e.length===0)return null;return e.map(function(e){if(t.isHeaderBarItem(e)){var r=function(r){if(e.onClick)e.onClick(r);t.openMenu(e,r.target)};return React.createElement("div",{key:e.id,className:e.className,onClick:r,title:e.tooltip},e.content)}else{return e}})};t.prototype.render=function(){var e=this.props,t=e.leftChildren,r=e.rightChildren,n=e.className,i=e.style;return React.createElement("header",{className:n?"header-bar "+n:"header-bar",style:i||{}},React.createElement("div",{className:"left-bar"},this.renderChildren(t)),React.createElement("div",{className:"right-bar"},this.renderChildren(r)),this.renderMenu(),this.props.children)};return t}(React.Component);exports.HeaderBar=HeaderBar;