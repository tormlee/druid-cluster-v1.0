"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var immutable_class_1=require("immutable-class");var SettingsLocation=function(e){tslib_1.__extends(t,e);function t(t){var a=e.call(this,t)||this;if(a.location==="file"&&a.table)a.table=null;return a}t.isSettingsLocation=function(e){return e instanceof t};t.fromJS=function(e){return new t(immutable_class_1.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.prototype.getFormat=function(){if(this.format)return this.format;if(this.location==="file"){if(/\.json$/.test(this.uri)){return"json"}else if(/\.yaml$/.test(this.uri)){return"yaml"}}return t.DEFAULT_FORMAT};t.LOCATION_VALUES=["file","mysql","postgres"];t.DEFAULT_FORMAT="json";t.FORMAT_VALUES=["json","json-pretty","yaml"];t.PROPERTIES=[{name:"location",possibleValues:t.LOCATION_VALUES},{name:"uri"},{name:"table",defaultValue:null},{name:"pollingInterval",defaultValue:6e4},{name:"format",defaultValue:t.DEFAULT_FORMAT,possibleValues:t.FORMAT_VALUES},{name:"readOnly",defaultValue:false},{name:"initialSettings",defaultValue:false}];return t}(immutable_class_1.BaseImmutable);exports.SettingsLocation=SettingsLocation;immutable_class_1.BaseImmutable.finalize(SettingsLocation);