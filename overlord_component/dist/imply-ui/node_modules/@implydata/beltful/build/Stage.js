"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var immutable_class_1=require("immutable-class");var Stage=function(_super){tslib_1.__extends(Stage,_super);function Stage(parameters){var _this=_super.call(this,parameters)||this;if(!_this.x)_this.x=0;if(!_this.y)_this.y=0;return _this}Stage.isStage=function(candidate){return candidate instanceof Stage};Stage.fromJS=function(parameters){return new Stage({x:parameters.x,y:parameters.y,width:parameters.width,height:parameters.height})};Stage.fromClientRect=function(rect){return new Stage({x:rect.left,y:rect.top,width:rect.width,height:rect.height})};Stage.fromSize=function(width,height){return new Stage({x:0,y:0,width:width,height:height})};Stage.prototype.toJS=function(){var js={width:this.width,height:this.height};if(this.x)js.x=this.x;if(this.y)js.y=this.y;return js};Stage.prototype.sizeOnlyValue=function(){return{x:0,y:0,width:this.width,height:this.height}};Stage.prototype.getTransform=function(){return"translate("+this.x+","+this.y+")"};Stage.prototype.getViewBox=function(widthOffset,heightOffset){if(widthOffset===void 0){widthOffset=0}if(heightOffset===void 0){heightOffset=0}return"0 0 "+(this.width+widthOffset)+" "+(this.height+this.y+heightOffset)};Stage.prototype.getLeftTop=function(){return{left:this.x,top:this.y}};Stage.prototype.getWidthHeight=function(widthOffset,heightOffset){if(widthOffset===void 0){widthOffset=0}if(heightOffset===void 0){heightOffset=0}return{width:this.width+widthOffset,height:this.height+this.y+heightOffset}};Stage.prototype.getLeftTopWidthHeight=function(){return{left:this.x,top:this.y,width:this.width,height:this.height}};Stage.prototype.changeXY=function(x,y){var value=this.valueOf();value.x=x;value.y=y;return Stage.fromJS(value)};Stage.prototype.changeWidthHeight=function(width,height){var value=this.valueOf();value.width=width;value.height=height;return Stage.fromJS(value)};Stage.prototype.within=function(param){var value=this.sizeOnlyValue();var left=param.left,right=param.right,top=param.top,bottom=param.bottom;if(left){value.x=left;value.width-=left}if(right){value.width-=right}if(top){value.y=top;value.height-=top}if(bottom){value.height-=bottom}return new Stage(value)};Stage.prototype.scale=function(hScale,vScale){var value=this.valueOf();if(value.x)value.x*=hScale;if(value.y)value.y*=vScale;value.width*=hScale;value.height*=vScale;return new Stage(value)};Stage.prototype.overlapsWith=function(other){var x1=this.x||0;var y1=this.y||0;var w1=this.width;var h1=this.height;var x2=other.x||0;var y2=other.y||0;var w2=other.width;var h2=other.height;return!(x1+w1<=x2||x2+w2<=x1||y1+h1<=y2||y2+h2<=y1)};Stage.PROPERTIES=[{name:"x",defaultValue:null},{name:"y",defaultValue:null},{name:"width",defaultValue:null},{name:"height",defaultValue:null}];return Stage}(immutable_class_1.BaseImmutable);exports.Stage=Stage;immutable_class_1.BaseImmutable.finalize(Stage);var StageMock=function(){function StageMock(){}Object.defineProperty(StageMock,"DEFAULT_A_JS",{get:function(){return{x:10,y:5,height:2,width:2}},enumerable:true,configurable:true});Object.defineProperty(StageMock,"DEFAULT_B_JS",{get:function(){return{x:10,y:500,height:2,width:2}},enumerable:true,configurable:true});Object.defineProperty(StageMock,"DEFAULT_C_JS",{get:function(){return{x:10,y:5,height:3,width:2}},enumerable:true,configurable:true});StageMock.defaultA=function(){return Stage.fromJS(StageMock.DEFAULT_A_JS)};StageMock.defaultB=function(){return Stage.fromJS(StageMock.DEFAULT_B_JS)};return StageMock}();exports.StageMock=StageMock;